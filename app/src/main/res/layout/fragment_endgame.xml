<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:tools="http://schemas.android.com/tools"
  xmlns:app="http://schemas.android.com/apk/res-auto"
  tools:context=".fragment.EndgameFragment">

  <data>
    <import type="team449.frc.scoutingappbase.databinding.Conversions"/>
    <import type="android.view.View"/>
    <variable
      name="vm"
      type="team449.frc.scoutingappbase.model.MatchViewModel" />
  </data>

 <androidx.constraintlayout.widget.ConstraintLayout
   style="@style/PageContainer">


   <TextView
     android:id="@+id/attemptedClimbText"
     style="@style/Text"
     android:text="@string/attempted_climb_prompt"
     app:layout_constraintTop_toTopOf="parent"
     app:layout_constraintStart_toStartOf="parent"/>
   <ImageButton
     android:id="@+id/attemptedClimbHelp"
     style="@style/Help"
     app:layout_constraintStart_toEndOf="@id/attemptedClimbText"
     app:layout_constraintTop_toTopOf="@id/attemptedClimbText"
     app:layout_constraintBottom_toBottomOf="@id/attemptedClimbText" />

   <RadioGroup
     style="@style/Wrap"
     android:id="@+id/attemptedClimb"
     android:orientation="vertical"
     android:checkedButton="@={Conversions.radioIndexToIdClimb(vm.attemptedClimb)}"
     app:layout_constraintStart_toStartOf="parent"
     app:layout_constraintTop_toBottomOf="@id/attemptedClimbText">
     <RadioButton
       style="@style/RadioButton"
       android:id="@+id/rno0"
       android:text="@string/attempted_no_prompt" />
     <RadioButton
       style="@style/RadioButton"
       android:id="@+id/rsolo1"
       android:text="@string/attempted_solo_prompt"/>
     <RadioButton
       style="@style/RadioButton"
       android:id="@+id/rdouble2"
       android:text="@string/attempted_double_prompt"/>
     <RadioButton
       style="@style/RadioButton"
       android:id="@+id/rcarried3"
       android:text="@string/attempted_carried_prompt"/>
   </RadioGroup>

   <CheckBox
     android:id="@+id/doubleClimb"
     style="@style/Checkbox"
     android:checked="@={Conversions.unbox(vm.doubleClimb)}"
     android:text="@string/double_prompt"
     android:visibility="@{(vm.attemptedClimb==2)? View.VISIBLE : View.GONE}"
     android:layout_marginTop="@dimen/verticalFieldSpacing"
     app:layout_constraintStart_toEndOf="@+id/doubleHelp"
     app:layout_constraintTop_toBottomOf="@id/attemptedClimb" />
   <ImageButton
     android:id="@+id/doubleHelp"
     style="@style/Help.Checkbox"
     android:visibility="@{(vm.attemptedClimb==2)? View.VISIBLE : View.GONE}"
     app:layout_constraintStart_toStartOf="parent"
     app:layout_constraintTop_toTopOf="@id/doubleClimb"
     app:layout_constraintBottom_toBottomOf="@id/doubleClimb" />

   <CheckBox
     android:id="@+id/solo"
     style="@style/Checkbox"
     android:checked="@={Conversions.unbox(vm.soloClimb)}"
     android:text="@{(vm.attemptedClimb==2 &amp;&amp; !vm.doubleClimb)? @string/solo_failed_double_prompt : @string/solo_prompt}"
     android:visibility="@{(vm.attemptedClimb==1 || vm.attemptedClimb==2 &amp;&amp; !vm.doubleClimb)? View.VISIBLE : View.GONE}"
     android:layout_marginTop="@dimen/verticalFieldSpacing"
     app:layout_constraintStart_toEndOf="@+id/soloHelp"
     app:layout_constraintTop_toBottomOf="@id/doubleClimb" />
   <ImageButton
     android:id="@+id/soloHelp"
     style="@style/Help.Checkbox"
     android:visibility="@{(vm.attemptedClimb==1 || vm.attemptedClimb==2 &amp;&amp; !vm.doubleClimb)? View.VISIBLE : View.GONE}"
     app:layout_constraintStart_toStartOf="parent"
     app:layout_constraintTop_toTopOf="@id/solo"
     app:layout_constraintBottom_toBottomOf="@id/solo" />

   <CheckBox
     android:id="@+id/carried"
     style="@style/Checkbox"
     android:checked="@={Conversions.unbox(vm.wasLifted)}"
     android:text="@string/carried_prompt"
     android:visibility="@{(vm.attemptedClimb==3)? View.VISIBLE : View.GONE}"
     android:layout_marginTop="@dimen/verticalFieldSpacing"
     app:layout_constraintStart_toEndOf="@+id/carriedHelp"
     app:layout_constraintTop_toBottomOf="@id/solo" />
   <ImageButton
     android:id="@+id/carriedHelp"
     style="@style/Help.Checkbox"
     android:visibility="@{(vm.attemptedClimb==3)? View.VISIBLE : View.GONE}"
     app:layout_constraintStart_toStartOf="parent"
     app:layout_constraintTop_toTopOf="@id/carried"
     app:layout_constraintBottom_toBottomOf="@id/carried" />

   <CheckBox
     android:id="@+id/parked"
     style="@style/Checkbox"
     android:checked="@={Conversions.unbox(vm.park)}"
     android:text="@string/parked_prompt"
     android:visibility="@{(vm.attemptedClimb==0 || vm.attemptedClimb==1 &amp;&amp; !vm.soloClimb || vm.attemptedClimb==2 &amp;&amp; !vm.doubleClimb &amp;&amp; !vm.soloClimb || vm.attemptedClimb==3 &amp;&amp; !vm.wasLifted)? View.VISIBLE : View.GONE}"
     android:layout_marginTop="@dimen/verticalFieldSpacing"
     app:layout_constraintStart_toEndOf="@+id/parkedHelp"
     app:layout_constraintTop_toBottomOf="@id/carried" />
   <ImageButton
     android:id="@+id/parkedHelp"
     style="@style/Help.Checkbox"
     android:visibility="@{(vm.attemptedClimb==0 || vm.attemptedClimb==1 &amp;&amp; !vm.soloClimb || vm.attemptedClimb==2 &amp;&amp; !vm.doubleClimb &amp;&amp; !vm.soloClimb || vm.attemptedClimb==3 &amp;&amp; !vm.wasLifted)? View.VISIBLE : View.GONE}"
     app:layout_constraintStart_toStartOf="parent"
     app:layout_constraintTop_toTopOf="@id/parked"
     app:layout_constraintBottom_toBottomOf="@id/parked" />

 </androidx.constraintlayout.widget.ConstraintLayout>

</layout>